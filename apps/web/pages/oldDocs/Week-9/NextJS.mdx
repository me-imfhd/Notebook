
# Resources


---


[bookmark](https://slides.com/harkiratsingh-2/week-10-2)


[link_preview](https://github.com/100xDevs-hkirat/week-10.2)


# Problem with ReactJS


---


Before this we need understand difference between Client Side Rendering(**CSR**) vs Server Side Rendering(**SSR**), below is pretty nice video explains the same.


> 📌 In nutshell, **CSR**(Client Side Rendering) shows an empty page before loading, while **SSR**(Server Side Rendering) displays a fully-rendered HTML page on the first load.


[bookmark](https://youtu.be/ObrSuDYMl1s?si=9VB6uGILENfZWkOt)


Below are the real life issues faced using React.


**Waterfalling** - The initial rendering or the first page load results to a blank screen. While this might not be immediately noticeable, it is one of the limitations in React.


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/dd624914-6876-4b58-9694-424f7aa5e22a/2ef380ea-0ca3-40f4-840d-0c972ecf9639/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240206T002419Z&X-Amz-Expires=3600&X-Amz-Signature=b6cb391f455b1c08e21bff7a52b4ba8820519c52b9e366b6efaad99339836a2c&X-Amz-SignedHeaders=host&x-id=GetObject)


Here’s another visual explains the same about Client Side Rendering(**CSR**). Stages are **Loading** → **Skeleton** → **Full**, whereas in Server Side Rendering(**SSR**) we get **Fully-rendered Page**.


![Source - Link](https://prod-files-secure.s3.us-west-2.amazonaws.com/dd624914-6876-4b58-9694-424f7aa5e22a/68062fb6-3a46-40ee-bdd6-ad8e9de2a5e6/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240206T002419Z&X-Amz-Expires=3600&X-Amz-Signature=6fc2fc77337b99112d012cc07511f04845e05a3922a72851138d03b2ee5fca0d&X-Amz-SignedHeaders=host&x-id=GetObject)


**Lacks SEO Optimization** - SEO, or **S**earch **E**ngine **O**ptimization, is the process by which search engines like Google and Bing crawl websites to index/understand what the website is about, this is only possible when website has the content, keywords. The challenge with React is that it delivers contentless HTML(like in the image), along with bundle of JavaScript. Thus, indexing is not possible in react.


> 😆 Crawling the content/html below, forget about browser, in fact even I/you cannot tell what’s this site about.


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/dd624914-6876-4b58-9694-424f7aa5e22a/6180a693-546c-4e5c-a86b-b9af1faba071/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240206T002419Z&X-Amz-Expires=3600&X-Amz-Signature=3aec102d82bee550e6b708184a5eff045733e3a7264914df6aaf5b280e8d1750&X-Amz-SignedHeaders=host&x-id=GetObject)


**Doesn’t work where JS can’t be executed(E-MAILs)** - In scenarios where JavaScript execution is restricted, such as within email clients like Gmail, client-side JavaScript won't execute. In such cases, it's necessary to send the final or pre-rendered HTML.


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/dd624914-6876-4b58-9694-424f7aa5e22a/80f3eec9-2dab-4fd0-977b-1650e7d9e371/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240206T002419Z&X-Amz-Expires=3600&X-Amz-Signature=4359f101ea6dd8d979852851dc7d9733834b78fae1314b8cc94f919e6a5016c2&X-Amz-SignedHeaders=host&x-id=GetObject)


# Why NextJS ?


---


[bookmark](https://youtu.be/WAMqFdCFotY?si=USiS6L7gNmtjDRab)


> 💡 In Next.js, the key takeaway is that the initial page is server-side rendered, while all subsequent renders follow the standard React rendering process. Technically, each page or route is “pre-rendered” + "hydrated" with ReactJS or JS  to make it interactive.


Following are the advantages on using NextJS

1. **Reduce the bundle size** : Since initial page is server-side rendered, large or heavy libraries can be process at backend, thus we can minimise the load on client side.
2. **Backend in NextJS** : We don’t separately need an express server we can do this inside the NextJS project. This also results in complete/direct access to backend and files.
3. **No blank page** on Initial Render, unlike in React application.

> ⚠️ Keep in Mind: During the initial page load, browser constructs like `localStorage` and `window` are not accessible on the server side. `localStorage` and `window` object are client side constructs.


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/dd624914-6876-4b58-9694-424f7aa5e22a/b6f89164-f840-49a8-b18d-09642db96306/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240206T002419Z&X-Amz-Expires=3600&X-Amz-Signature=c0dd196a1783234b5740fa2a98c09349955fdc167e35bd3a319b7092bed420f4&X-Amz-SignedHeaders=host&x-id=GetObject)


# ReactJS to NextJS 


---


**Routing** is handled quite differently in NextJS, but it is smooth and easy. Rest 90% is all React.


Each page inside `pages` folder serve as a route.


```javascript
// For routing

const router = useRouter();
onClick= {() => router.push("/signup")} // Like adding on button click.
```


**Authentication via Cookies** : When using a GET request, it's important to note that local storage, tokens, and custom headers cannot be directly transmitted. GET requests typically include standard headers, and for authentication purposes we have to the use cookies for handling authentication in Next.js.


In essence, when you enter a URL in your browser and hit enter, the initial GET request doesn't include authentication headers or tokens. You can only include them in subsequent requests. This is why authentication is performed via cookies because cookies are automatically sent in every browser's GET request.


**getServerSideProps** : It is a function in Next.js that allows you to fetch data on the server and pre-render a page before it is sent to the client's browser.


**Dynamic Routing** **:** Folder structure below is an example of dynamic routing.


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/dd624914-6876-4b58-9694-424f7aa5e22a/30d7e130-d10c-484f-a165-cacd13502ffb/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240206T002419Z&X-Amz-Expires=3600&X-Amz-Signature=51c9e915823b1dedf2537b9f3a43ca30ebe18c10900db53f2c16c58ffaac2961&X-Amz-SignedHeaders=host&x-id=GetObject)


**Server Side Components** vs **Client Side Components**

1. **Server Side Components (SSR)**: SSR components are initially **rendered on the server** before being sent to the client's browser.
	- This approach is used for pages that require dynamic data, SEO optimization, or authentication, as it ensures that the content is available when the page is loaded.
	- SSR is beneficial for improving SEO and ensuring content is visible to search engines.
2. **Client Side Components (CSR)**: CSR components are initially **rendered in the client's browser** using JavaScript.
	- This approach is suitable for pages that don't require SEO optimization, involve dynamic client-side interactions, or have content that can be loaded after the initial page render.
	- CSR is more interactive and can be quicker for navigating between pages within the application.

Next.js allows you to use a combination of both SSR and CSR, choosing the most appropriate rendering method for different parts of your application to achieve a balance between performance and functionality.


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/dd624914-6876-4b58-9694-424f7aa5e22a/9418ec2a-b45c-4a83-9fc7-c289a34e0255/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45HZZMZUHI%2F20240206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240206T002419Z&X-Amz-Expires=3600&X-Amz-Signature=52643ef57a828730de5ff895bdd600f225d4ca9e697534d993b36228d3ffbb3d&X-Amz-SignedHeaders=host&x-id=GetObject)


**App Router** vs **Pages Router**

